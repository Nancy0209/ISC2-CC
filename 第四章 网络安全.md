# 网络安全
## 章节议程
- 模块 1：了解计算机网络 (D4.1)
- 模块 2：了解网络威胁和攻击 (D4.2)
- 模块 3：了解网络安全基础架构 (D4.3)
- 模块 4：总结
## 第 4 章概述
让我们更详细地了解计算机网络和保护网络。在当今世界，互联网几乎连接了所有人和所有事物，而这是通过网络实现的。虽然大多数人认为计算机网络是积极的，但犯罪分子经常使用互联网和网络协议本身，作为利用漏洞的武器和工具，因此我们必须尽最大努力保护网络。我们将回顾网络的基本组成部分、对网络的威胁和攻击，并学习如何保护它们免受攻击。网络安全本身可以是网络安全领域的专业职业；但是，所有信息安全专业人员都需要了解网络是如何运行的，以及如何利用这些网络来更好地保护它们。

学习目标
领域 4：网络安全目标
完成本章后，参与者将能够： 

L4 解释网络安全的概念。
L4.1.1 认识常见的网络术语和模型。
L4.1.2 识别常见的协议和端口以及它们的安全对应物。
L4.2.1 识别网络威胁和攻击的类型。
L4.2.2 讨论用于识别和预防威胁的常用工具。
L4.3.1 识别常见的数据中心术语。
L4.3.2 认识常见的云服务术语。
L4.3.3 识别安全网络设计术语。
L4.4.1 练习术语并查看网络安全概念。

## 章节一览
在完成第 4 章“网络安全”时，请确保：
- 完成知识检查：网络术语和模型
- 完成知识检查：格式化 IPv6
- 完成知识检查：将端口与其安全对应项匹配
- 完成知识检查：识别恶意软件威胁
- 完成知识检查：威胁类型
- 完成知识检查：本地
- 完成知识检查：以下哪项不是冗余电源的来源
- 完成知识检查：云服务术语
- 完成知识检查：云服务模型
- 完成知识检查：网络设计术语
- 查看第 4 章摘要
- 参加在线第 4 章测验
- 查看术语和定义
## 模块 1：了解计算机网络
### 模块 1：了解计算机网络
域 D4.1.1、D4.1.2

模块目标
- L4.1.1 认识常见的网络术语和模型。
- L4.1.2 当出现网络图时，识别常见的协议和端口及其安全对应物。
### 什麼是網絡

網絡只是連接在一起以共享數據、信息或資源的兩台或多台計算機。

為了正確建立安全的安全數據通信，探索計算機通信中涉及的所有技術非常重要。從 **硬件** 和 **軟件** 到 **協議** 和 **加密** 等等，有許多細節、標準和程序需要熟悉。

### 網絡類型

有兩種基本類型的網絡：

* **局域網 (LAN - Local Area Network)**：是通常跨越單個樓層或建築物的網絡。這通常是一個有限的地理區域。
* **廣域網 (WAN - Wide Area Network)**：是通常分配給地理上遠程網絡之間的長距離連接的術語。

### 網絡設備
* **集線器 (Hub)**：用於連接網絡中的多個設備。集線器是有線設備，不如交換機或路由器智能。
* **交換機 (Switch)**：也稱為**智能集線器**。交換機是有線設備，它知道連接到它們的設備的地址，並將流量路由到該端口/設備，而不是重新傳輸到所有設備。交換機提供更高的流量傳輸效率和整體吞吐量，比集線器更智能，但不如路由器智能。交換機在用於創建 **VLAN** 時也可以創建單獨的**廣播域**。
* **路由器 (Router)**：用於控制網絡上的流量，通常用於連接相似的網絡並控制它們之間的流量。路由器可以是有線或無線的，它為流量在網絡中流動確定最有效的“路線”。路由器比集線器和交換機更智能。
* **防火牆 (Firewall)**：是管理和控制網絡流量以及保護網絡的重要工具。防火牆是用於過濾流量的網絡設備。它通常部署在專用網絡和 **互聯網 (Internet)** 之間，但也可以部署在組織（整體網絡）內的部門（分段網絡）之間。防火牆根據一組定義的規則過濾流量，也稱為**過濾器或訪問控制列表 (ACL)**。
* **服務器 (Server)**：是向網絡上的其他計算機提供信息的計算機。一些常見的服務器是 Web 服務器、電子郵件服務器、打印服務器、數據庫服務器和文件服務器。服務器的保護通常不同於工作站，以保護它們包含的信息。
* **端點 (Endpoint)**：是網絡通信鏈路的端點。一端通常位於資源所在的服務器上，而另一端通常是請求使用網絡資源的客戶端。端點可以是另一台服務器、桌面工作站、筆記本電腦、平板電腦、移動電話或任何其他最終用戶設備。

### 其他網絡術語

#### 以太網 (Ethernet) 
* **以太網 (IEEE 802.3)** 是一種定義聯網設備有線連接的標準。
* 該標準定義了數據通過線路格式化的方式，以確保不同的設備可以通過相同的電纜進行通信。

#### 設備地址
* **媒體訪問控制 (MAC) 地址** 
    * 每個網絡設備都分配有一個 MAC 地址。
    * **示例：** `00-13-02-1F-58-F5`。
    * 地址的前 3 字節（24 位）表示物理網絡接口的**供應商或製造商**。
    * 在同一個本地網絡中，任何兩台設備都不能擁有相同的 MAC 地址。
* **互聯網協議 (IP) 地址**
    * IP 主機將 MAC 地址與唯一的**邏輯地址**相關聯。
    * 此邏輯 IP 地址代表網絡中的網絡接口，並且在物理設備與新硬件交換時可用于維持通信。
    * **示例：** `192.168.1.1` (IPv4) 和 `2001:db8::ffff:0:1` (IPv6)。
### 网络概览
- 此图表示一个小型企业网络，我们将在本课中建立该网络。这些线描绘了有线连接。注意防火墙后面的所有设备是如何通过网络交换机连接的，而防火墙位于网络交换机和互联网之间。
- <img width="448" height="348" alt="截屏2025-12-04 09 30 04" src="https://github.com/user-attachments/assets/035ae3fa-ddcb-4637-ab70-b02ec68625e9" />
- 下面的网络图代表一个典型的家庭网络。请注意，家庭网络和企业网络之间的主要区别在于，路由器、防火墙和网络交换机通常组合成一个由您的互联网提供商提供的设备，并在此处显示为无线接入点。
- <img width="448" height="306" alt="截屏2025-12-04 09 30 29" src="https://github.com/user-attachments/assets/8f5a4f2c-95e8-489c-81a4-d8a0a5c19f00" />
### 网络模型
- 存在许多不同的模型、体系结构和标准，它们提供了将不同硬件和软件系统相互互连的方式，以共享信息、协调它们的活动并完成联合或共享任务。
- 计算机和网络源于通信设备、存储设备、处理设备、安全设备、输入设备、输出设备、操作系统、软件、服务、数据和人的集成。
- 将组织的安全需求转化为安全、可靠和有效的网络系统需要从一个简单的前提开始。所有通信的目的是在人和组织之间交换信息和想法，以便他们能够完成工作。
- 这些简单的目标可以用网络（和安全）术语重新表达，例如：
  - 在主机（和用户）之间提供可靠的托管通信
  - 在层中隔离函数
  - 使用 数据包 作为通信的基础
  - 标准化路由、寻址和控制
  - 允许互联网络之外的层添加功能
  - 与供应商无关、可扩展且具有弹性
在最基本的形式中，网络模型至少有两层：
- 上面那层
  - 上层，也称为主机或应用层，负责管理连接的完整性和控制会话以及建立、维护和终止两台计算机之间的通信会话。它还负责将从应用层接收到的数据转换为任何系统都可以理解的格式。最后，它允许应用程序进行通信并确定远程通信伙伴是否可用和可访问。
- 下层
  - 较低层通常称为媒体或传输层，负责从物理连接媒体接收比特并将它们转换为帧。框架按标准化尺寸分组。将框架视为水桶，将比特视为水。如果桶的大小相似并且水包含在桶中，则可以以受控方式传输数据。路由数据被添加到数据帧中以创建数据包。换句话说，目标地址被添加到桶中。一旦我们对存储桶进行排序并准备就绪，主机层就会接管。
- <img width="448" height="297" alt="截屏2025-12-04 09 31 31" src="https://github.com/user-attachments/assets/22bafe7a-2a43-43b1-84d5-82bda15288ee" />
### 开放系统互连 (OSI) 模型
- OSI 模型的开发是为了建立一种通用的方法来描述互连计算机系统的通信结构。 OSI 模型用作抽象框架或理论模型，用于说明协议应如何在理想世界、理想硬件上运行。因此，OSI 模型已成为一种通用的概念参考，用于理解从软件接口到物理硬件的各种分层组件的通信。
- OSI 模型将网络任务分为七个不同的层。每一层负责执行特定的任务或操作，目标是支持两台计算机之间的数据交换（换句话说，网络通信）。这些层可通过名称或层号互换引用。例如，第 3 层也称为网络层。这些层是专门排序的，以指示信息如何通过各个级别的通信流动。每一层都直接与上面的层和下面的层通信。例如，第 3 层与数据链路 (2) 和传输 (4) 层进行通信。
- 应用层、表示层和会话层 (5-7) 通常简称为数据。然而，每一层都有可能进行封装。 封装 是通过在 OSI 模型的该层使用的协议添加页眉和可能的页脚（拖车）数据。在讨论传输层、网络层和数据链路层 (2-4) 时，封装尤其重要，它们通常都包含某种形式的报头。在物理层 (1)，数据单元被转换为二进制，即 01010111，并通过以太网电缆等物理线路发送。
- 将一些常见的网络术语映射到 OSI 模型是值得的，这样您就可以看到概念模型中的价值。
- 考虑以下示例：
  - 当有人引用 JPEG 或 PNG 之类的图像文件时，我们谈论的是表示层 (6)。
  - 在讨论 NetBIOS 等逻辑端口时，我们正在讨论会话层 (5)。
  - 在讨论 TCP/UDP 时，我们正在讨论传输层 (4)。
  - 在讨论路由器发送数据包时，我们正在讨论网络层 (3)。
  - 在讨论发送帧的交换机、网桥或 WAP 时，我们正在讨论数据链路层 (2)。
- 当数据沿 OSI 模型从应用程序向下移动到物理时，就会发生封装。由于数据在每个下降层封装，前一层的标题，有效载荷 和页脚都被视为下一层的有效载荷。随着我们向下移动概念模型并且内容继续封装，数据单元的大小会增加。

- 当数据在 OSI 模型层从物理层向上移动到应用程序层时，会发生相反的动作。这个过程被称为 解封装 （或解封装）。页眉和页脚用于正确解释数据有效负载，然后被丢弃。当我们向上移动 OSI 模型时，数据单元变得更小。封装/解封装过程最好在下面直观地描述：
- <img width="484" height="282" alt="截屏2025-12-04 09 32 59" src="https://github.com/user-attachments/assets/d8aa4105-4a89-421a-8aed-b72f8840bfda" />
### 传输控制协议/互联网协议 (TCP/IP)
- OSI 模型并不是第一个或唯一一个尝试简化网络协议或建立通用通信标准的模型。事实上，当今使用最广泛的协议TCP/IP是在 1970 年代初期开发的。 OSI 模型直到 1970 年代后期才被开发出来。 TCP/IP 协议栈专注于网络的核心功能。
- <img width="484" height="159" alt="截屏2025-12-04 09 34 31" src="https://github.com/user-attachments/assets/6436dda3-113b-4f0c-9486-ec4de906cd4c" />
- 使用最广泛的协议套件是 TCP/IP，但它不仅仅是一个单一的协议；相反，它是一个包含几十个单独协议的协议栈。 TCP/IP 是一种基于开放标准的独立于平台的协议。然而，这既是优点也是缺点。 TCP/IP 可以在几乎所有可用的操作系统中找到，但它消耗大量资源并且相对容易被入侵，因为它是为易于使用而不是为了安全而设计的。
- 在应用层，TCP/IP 协议包括 Telnet、文件传输协议 (FTP), 简单邮件传输协议 (SMTP), 和 域名服务 (DNS)。
- TCP/IP 的两个主要传输层协议是 TCP 和 UDP。 TCP是全双工面向连接的协议，而UDP是单工无连接协议。在 互联网 层中，互联网 控制消息协议 (ICMP) 用于确定网络或特定链路的健康状况。 ICMP 被 平、追踪路线 和其他网络管理工具使用。 平 实用程序使用 ICMP 回显数据包并将它们从远程系统反弹。因此，您可以使用 平 来确定远程系统是否在线、远程系统是否及时响应、中间系统是否支持通信以及中间系统通信的性能效率水平。
- <img width="484" height="359" alt="截屏2025-12-04 09 35 06" src="https://github.com/user-attachments/assets/da02794e-6ad6-4c68-a05e-8c7d9e5f51f2" />
### 互联网协议（IPv4 和 IPv6）
- IP 目前以两个主要版本在全球范围内部署和使用。 IPv4 提供了一个 32 位的地址空间，预计到 1980 年代后期将耗尽。 IPv6 于 1995 年 12 月推出，提供 128 位地址空间以及其他几个重要特性。
- <img width="437" height="189" alt="截屏2025-12-04 09 38 21" src="https://github.com/user-attachments/assets/753a9c7f-6e4c-46fc-9c08-08bf27fdc265" /> IP 地址的图像，第一个八位字节用括号标记，标签表示 32 位地址、点分十进制地址、网络地址和主机地址
- IP 主机/设备将地址与唯一的逻辑地址相关联。 IPv4 地址表示为用点 (.) 分隔的四个八位字节，例如 216.12.146.140。每个八位字节的值可能介于 0 和 255 之间。但是，0 是网络本身（不是该网络上的设备），而 255 通常保留用于广播目的。每个地址又分为两部分：网络号和主机。由外部组织（例如互联网名称与数字地址分配机构 (ICANN)）分配的网络号代表该组织的网络。主机代表网络内的网络接口。
- 为了简化网络管理，网络通常被划分为子网。因为子网不能用目前讨论的寻址方案来区分，所以使用一个单独的机制，即子网掩码来定义用于子网的地址部分。掩码通常转换为十进制表示法，如 255.255.255.0。
- 随着计算机和联网设备数量的不断增加，很明显 IPv4 无法提供足够的地址来满足我们的需求。为了克服这个缺点，IPv4 被细分为公共和私有地址范围。公共地址受 IPv4 限制，但此问题已通过私有寻址部分解决。私人地址可以由任何人共享，并且您街道上的每个人很可能都使用相同的地址方案。
- IPv4 建立的寻址方案的性质意味着网络设计人员必须开始考虑 IP 地址重用。 IPv4 以多种方式促进了这一点，例如创建私有地址组；这允许每个 SOHO（小型办公室、家庭办公室）情况下的每个 LAN 使用诸如 192.168.2.xxx 之类的地址作为其内部网络地址，而不必担心某些其他系统会拦截其 LAN 上的流量。
- 此表显示可供任何人使用的私有地址：
- <img width="210" height="215" alt="截屏2025-12-04 09 39 14" src="https://github.com/user-attachments/assets/65728bab-5e5c-457b-a5f0-9110cf507635" />
- 127 的第一个八位组保留用于计算机的环回地址。通常使用地址 127.0.0.1。环回地址用于提供机器级别的自我诊断和故障排除机制。这种机制允许网络管理员将本地机器视为远程机器，并 ping 网络接口以确定它是否可操作。
- IPv6 是 IPv4 的现代化，它解决了 IPv4 环境中的一些弱点：
  - 更大的地址字段：IPv6 地址为 128 位，支持2128 或 340,282,366,920,938,463,463,374,607,431,768,211,456 主机。这确保我们不会用完地址。
  - 提高安全性：IPsec 是 IPv4 网络的可选部分，但 IPv6 网络的必需组件。这将有助于确保 IP 数据包的完整性和机密性，并允许通信伙伴相互验证。
  - 提高服务质量 (QoS)：这将有助于服务获得适当的网络带宽份额。
- IPv6 地址显示为 8 组四位数。 IPv6 地址不是像 IPv4 那样的数字 (0-9)，而是使用十六进制范围 (0000-ffff)，并以冒号 (:) 而非句点 (.) 分隔。一个示例 IPv6 地址是 2001:0db8:0000:0000:0000:ffff:0000:0001。为了使人们更容易阅读和键入，可以通过删除每个字段开头的前导零并用两个冒号 (::) 代替最长的连续零字段来缩短它。所有字段必须至少保留一位数字。缩短后，上面的示例地址呈现为 2001:db8::ffff:0:1，这样更容易输入。与 IPv4 一样，有一些地址和范围保留用于特殊用途：
  - ::1 是本地环回地址，与 IPv4 中的 127.0.0.1 使用相同。
  - 范围 2001:db8:: 到 2001:db8:ffff:ffff:ffff:ffff:ffff:ffff 保留供文档使用，就像上面的示例一样。
  - fc00:: 到 fdff:ffff:ffff:ffff:ffff:ffff:ffff:ffff 是为内部网络保留的地址，在 互联网 上不可路由。
- 以下哪个示例是地址 2001:0db8:0000:0000:0000:ffff:0000:0001 的正确缩短版本？ 答案：2001:db8::ffff:0:1
### 什么是无线网络？
- 由于易于部署和相对较低的成本，无线网络是连接企业和家庭系统的一种流行方法。它使网络比以往任何时候都更加通用。工作站和便携式系统不再依赖电缆，而是可以在已部署的无线接入点的信号范围内自由漫游。然而，这种自由带来了额外的漏洞。
- 无线上网 范围通常对于大多数家庭或小型办公室来说足够宽，并且可以战略性地放置范围扩展器以扩展较大校园或家庭的信号。随着时间的推移，无线上网标准不断发展，每个更新版本都比上一个更快。
- 在 LAN 中，威胁参与者需要进入物理空间或物理媒体本身的紧邻区域。对于有线网络，这可以通过在电缆上放置嗅探器、插入 USB 设备或使用其他需要物理访问网络的工具来完成。相比之下，无线媒体入侵可能发生在远处。
- <img width="460" height="294" alt="截屏2025-12-04 09 41 50" src="https://github.com/user-attachments/assets/5fdbd5d3-2ac9-48e0-9842-53b8a35da652" />
### 网络安全
- TCP/IP 的漏洞很多。各种操作系统中实施不当的 TCP/IP 堆栈容易受到各种 拒绝服务 攻击、碎片攻击、超大数据包攻击、欺骗攻击和中间人攻击。
- TCP/IP（以及大多数协议）也受到通过监视或嗅探的被动攻击。网络监视或嗅探是监视流量模式以获取有关网络的信息的行为。
### 端口和协议（应用程序/服务）
- 物理端口：物理端口是路由器、交换机、服务器、计算机等上的端口，用于连接电线（例如光纤电缆、Cat5 电缆等）以创建网络。
- 逻辑端口：在两个系统之间建立通信连接时，使用端口完成。逻辑端口（也称为套接字）只不过是通信链路两端在传输数据时同意使用的地址号。端口允许单个 IP 地址能够支持多个同时通信，每个通信使用不同的端口号。在 TCP/IP 模型的应用层（包括 OSI 模型的会话层、表示层和应用层）中驻留着许多特定于应用程序或服务的协议。数据类型使用与服务关联的端口号进行映射。例如，网络 流量（或 HTTP）是端口 80。安全 网络 流量（或 HTTPS）是端口 443。表 5.4 突出显示了其中一些协议及其习惯或分配的端口。您会注意到，在某些情况下，服务（或协议）可能分配了两个端口，一个是安全的，一个是不安全的。如有疑问，应使用协议及其服务的最安全版本来实施系统。
  - 知名端口 (0–1023)：这些端口与作为传输控制协议/互联网协议 (TCP/IP) 模型、域名服务 (DNS)、简单邮件传输协议 ( SMTP）等。
  - 注册端口 (1024–49151)：这些端口通常与供应商和开发人员的专有应用程序相关联。虽然它们已获得 互联网 号码分配机构 (IANA) 的正式批准，但实际上许多供应商只是实现了他们选择的端口。示例包括远程身份验证拨入用户服务 (半径) 身份验证 (1812)、微软SQL服务器 (1433/1434) 和 泊坞窗 REST API (2375/2376)。
  - 动态或专用端口 (49152–65535)：每当请求与已知或注册端口关联的服务时，这些服务将使用用于该会话的动态端口进行响应，然后释放。
### 安全端口
- 一些网络协议以明文形式传输信息，这意味着它没有被加密并且不应该被使用。明文信息会受到网络嗅探。这种策略使用软件检查通过网络传输的数据包并提取用户名和密码等文本。如果文件和其他文件是通过不安全的协议发送的，网络嗅探也可以揭示它们的内容。下表显示了一些不安全的协议以及推荐的安全替代方案。
- 单击左侧的每个不安全端口以了解其不安全的原因以及为什么首选相应的安全替代端口。
#### 🔒 不安全端口與安全備用方案對比

| 不安全端口 | 協議名稱 (縮寫) | 不安全描述 | 安全備用端口 | 安全協議 (縮寫) | 備註 |
| :---: | :---: | :--- | :---: | :--- | :--- |
| **21** | 文件傳輸協議 (FTP) | 使用明文傳輸用戶名和密碼，易被截獲。 | **22** | 安全文件傳輸協議 (SFTP) | SFTP 使用加密保護憑證和數據包。 |
| **23** | 遠程登錄 (Telnet) | 所有連接信息（包括憑證）均以明文發送，易被攻擊者截獲。 | **22** | 安全外殼 (SSH) | SSH 使用加密，確保主機和終端之間的流量不以明文發送。 |
| **25** | 簡單郵件傳輸協議 (SMTP) | 用於發送電子郵件，默認未加密，數據可能被網絡嗅探發現。 | **587** | 帶 TLS 的 SMTP | 使用傳輸層安全 (TLS) 加密郵件客戶端與服務器之間的數據。 |
| **37** | 時間協議 (Time Protocol) | 舊設備可能使用，錯誤處理能力較差，大部分已被取代。 | **123** | 網絡時間協議 (NTP) | NTP 提供了更好的錯誤處理能力。 |
| **53** | 域名服務 (DNS) | 仍廣泛使用，但信息在傳輸過程中容易被修改。 | **853** | DNS 經由 TLS (DoT) | 使用 TLS 保護 DNS 信息在傳輸過程中不被修改。 |
| **80** | 超文本傳輸協議 (HTTP) | Web 瀏覽器流量的基礎，信息未加密，容易受到嗅探攻擊。 | **443** | 超文本傳輸協議安全 (HTTPS) | 使用 TLS 加密數據。**注意：** SSL 已被攻破，建議使用 TLS 1.3 或更高版本。 |
| **143** | 互聯網消息訪問協議 (IMAP) | 用於檢索電子郵件，流量未加密，容易受到網絡嗅探。 | **993** | 帶 SSL/TLS 的 IMAP | 增加 SSL/TLS 安全性以加密郵件客戶端與服務器之間的數據。 |
| **161/162** | 簡單網絡管理協議 (SNMP) | 用於管理基礎設施設備，傳輸敏感信息，但基礎版本缺乏加密。 | **161/162** | SNMPv3 | 建議使用 SNMPv3 或 SNMPv2，包含加密和附加安全功能。**端口不變**，安全性取決於版本。 |
| **445** | 服務器消息塊 (SMB) | 用於 Windows 系統通過網絡訪問文件，文件未加密傳輸，存在許多已知漏洞。 | **2049** | 網絡文件系統 (NFS) | 雖然 NFS 可以使用加密，但建議 SMB 和 NFS 流量都不應允許通過網絡外圍防火牆。 |
| **389** | 輕量級目錄訪問協議 (LDAP) | 用於傳輸目錄信息（如地址簿、登錄名），未加密，易受嗅探和操縱。 | **636** | 輕量級目錄訪問協議安全 (LDAPS) | 增加 SSL/TLS 安全性，以在信息傳輸時保護信息。 |
### SYN、SYN-ACK、ACK 握手
- 在客户端和服务器之间，有一个用于同步和确认任何请求的系统，称为三向握手。此握手用于在两个设备之间建立 TCP 连接。
- 在这里，我们将简要了解如何建立与 网络 服务器的通信。根据具体的协议，可能会发生额外的连接协商。
- 首先，客户端向网络服务器的80或443端口发送同步（SYN）数据包。这是建立连接的请求。
- 网络服务器使用称为 SYN/ACK 的确认来回复 SYN 数据包。
- 最后，客户端通过确认 (ACK) 确认连接。此时，基本连接已建立，客户端和主机将通过该连接进一步协商安全通信。
- 以下哪种协议是使用 远程登录 的安全替代方案？ （D4，L4.1.2）答案：SSH
## 模块 2：了解网络 威胁和攻击
模块 2：了解网络威胁和攻击
域 D4.1.2、D4.2.2、D4.2.3

模块目标
- L4.2.1 识别网络威胁的类型。
- L4.2.2 讨论用于识别和预防威胁的常用工具。
### 网络攻击的影响
#### 🎯 核心主題：從預防到影響評估

討論的重點是如何預防網絡攻擊，以及一旦發生，這些攻擊如何影響業務運營和公司。

---

#### I. 預防與早期檢測：SIEM 的作用

* **SIEM 的價值：** 安全信息和事件管理系統 (**SIEM**) 聚合所有數據，其價值在於產生**可操作的情報**。
* **提前觸發響應：** 通過適當優化和調整的 SIEM/UBA，可以在違規發生**之前**發現**妥協指標 (IOC)**。
    * 攻擊者將時間花在**偵察階段**（掃描、惡意附件、網絡應用程序枚舉等）。如果在 SIEM 中檢測到這些活動，即可提前阻止。
* **內部 VS. 外部檢測：**
    * 運作良好的安全團隊有機會更早檢測。
    * 對於**精益運行**的團隊，可將監控外包給第三方 SOC。
* **重點：** 無需購買昂貴的軟件。實施基本的控制（如 **CIS 控制**），獲取日誌，進行**網絡分割**，並使用基於主機的防火牆，即可限制事件的影響。

---

#### II. 雲環境中的威脅模型與挑戰

* **概念適用性：** 聚合日誌的概念在雲環境中仍然適用。
* **挑戰與威脅面：** 雲威脅模型不同，主要集中在 **IAM (身份和訪問管理)** 和**配置錯誤**。
    * **權限問題：** 缺乏適當的權限設置，可能導致用戶進行超出預期的操作。
    * **配置錯誤：** 雲服務默認可能啟用 RDP 和 SSH 面向互聯網。
* **實例元數據服務 (IMDS) 攻擊：**
    * **攻擊類型：** 服務器端請求偽造 (**SSRF**) 攻擊。
    * **案例：** **Capital One 洩露事件**。攻擊者通過網絡應用程序利用 IMDS 訪問並下載 S3 存儲桶中的數據。
    * **緩解措施：** 限制來自 IMDS 的響應（如限制到一個躍點內），或要求令牌發送給 IMDS。

---

#### III. 經典攻擊案例分析

##### 1. 太陽風 (SolarWinds) 供應鏈攻擊

* **性質：** 複雜、有耐心、潛伏時間長。
* **攻擊機制：**
    1.  攻擊者獲得網絡訪問權。
    2.  將惡意代碼編碼為**構建過程的輸出**，打包到 SolarWinds 軟件中並**簽名**，規避代碼審查。
    3.  受害者下載更新後，惡意軟件潛伏後觸發。
    4.  使用 **AWS、GCP、Azure** 等多個雲服務設置**命令與控制 (C2)** 網絡，模仿合法語法逃避檢測。
* **SIEM 價值：** 證明組織僅發生了與 C2 的**初始通信**，而未發生數據洩露。

##### 2. TJ Maxx 事件與 PCI DSS

* **事件：** 攻擊者利用**不安全的無線網絡**和**缺乏網絡分段**，虹吸信用卡號。
* **影響：** 促成 **PCI DSS (支付卡行業數據安全標準)** 規則的制定。
* **PCI 強制要求：**
    1.  無線網絡必須與常規網絡**分離**。
    2.  將整個 PCI 數據環境進行**網絡分段**。
    3.  使用適當的**加密**來保護數據。

---

#### IV. 威脅搜尋、滲透測試與漏洞掃描

| 類型 | 目的 | 行為模式 |
| :--- | :--- | :--- |
| **威脅搜尋 (Threat Hunting)** | **假設網絡已被破壞**。主動尋找妥協跡象 (IOC)，縮短攻擊者停留時間。 |
| **滲透測試 (Pen Testing)** | 測試攻擊者**是否有可能進入網絡**（危及軟件、配置、人員）。 |
| **漏洞掃描 (Vulnerability Scan)** | 識別發佈的漏洞，並制定**修復計劃**進行補丁管理。 |

---

#### V. 結論與建議

* **基礎工作的重要性：** 基礎知識 (**Basic Operations**) 仍然是保護網絡的關鍵，包括：
    * 準確的**資產清單**和識別**關鍵業務資產**。
    * **網絡細分** (Segmentation)。
    * 適當的**日誌記錄、監控和警報**。
    * **補丁管理**和**漏洞掃描**。
    * **定期備份**。
* **國家級影響：** 現代網絡攻擊（如 Colonial Pipeline）影響到國家供應和民眾生活，提高了基礎安全工作的重要性。
* **行動：** 根據組織的**上下文**和風險偏好，照顧好基礎知識並在此基礎上進行構建。
### 威胁类型
- **欺骗**：旨在通过使用**伪造身份**访问目标系统的攻击。欺骗可用于 IP 地址、MAC 地址、用户名、系统名称、无线网络 SSID、电子邮件地址和许多其他类型的逻辑标识。
- **网络钓鱼**：试图通过滥用**电子邮件中的 URL 或超链接**将合法用户误导到恶意网站的攻击可被视为网络钓鱼。
- **DOS/DDOS**：拒绝服务 (DoS) 攻击是一种**网络资源消耗攻击**，其主要目标是阻止受害系统上的合法活动。涉及众多毫无戒心的次要受害者系统的攻击称为分布式拒绝服务 (DDoS) 攻击。
- **病毒**：计算机病毒可能是困扰安全管理员的最早形式的恶意代码。与生物病毒一样，计算机病毒具有两个主要功能——**传播和破坏**。病毒是一段**自我复制的代码**，它在未经用户同意的情况下传播，但经常在他们的帮助下传播（**用户必须单击链接或打开文件**）。
- **蠕虫**：蠕虫对网络安全构成重大风险。它们包含与其他恶意代码客体相同的破坏性潜力，但增加了扭曲——它们**无需任何人工干预即可自行传播**。
- **木马**：以古老的特洛伊木马故事命名，特洛伊木马是一种看似仁慈的软件程序，但带有恶意的幕后有效负载，有可能对系统或网络造成严重破坏。例如，勒索攻击通常使用木马来感染目标机器，然后使用加密技术使用只有恶意软件创建者知道的密钥来加密存储在系统上的文档、电子表格和其他文件。（破坏可用性-把文件锁起来，解密方法只有自己知道）
- **路径攻击**：在路径攻击中，攻击者将自己置于两个设备之间，通常位于 网络 浏览器和 网络 服务器之间，以拦截或修改用于一个或两个端点的信息。途中攻击也称为中间人攻击 (MITM) 攻击。
- **侧信道**：侧信道攻击是一种被动的、非侵入性的攻击，用于观察设备的操作。方法包括电源监控、定时和故障分析攻击。
- **高级持续威胁（APT）**：高级持续威胁 (APT) 是指在数月甚至数年内表现出异常高水平的技术和操作复杂性的威胁。 APT 攻击通常由高度组织化的攻击者群体进行。
- **内部威胁**：内部威胁是来自组织信任的个人的威胁。这些可能是心怀不满的员工或参与间谍活动的员工。内部威胁并不总是自愿的参与者。成为骗局受害者的受信任用户可能是不情愿的内部威胁。
- **恶意软件**：插入系统的程序，通常是隐蔽的，其目的是损害受害者数据、应用程序或操作系统的机密性、完整性或可用性，或者以其他方式烦扰或扰乱受害者。（勒索软件；木马；病毒）
- **勒索软件**：用于促进勒索攻击的恶意软件。勒索攻击攻击通常使用加密技术“锁定”受影响计算机上的文件，并要求支付赎金以换取“解锁”代码。
### 识别威胁和用于防止它们的工具
- 虽然您无法采取单一步骤来防御所有攻击，但您可以采取一些基本步骤来帮助防御多种类型的攻击。
- 以下是一些可用于保护网络的步骤示例。
  - 如果系统不需要服务或协议，则不应运行。攻击者无法利用不在系统上运行的服务或协议中的漏洞。
  - 防火墙可以防止许多不同类型的攻击。基于网络的防火墙保护整个网络，基于主机的防火墙保护单个系统。
#### 入侵检测系统 (IDS)
- 当攻击者能够绕过或阻止安全机制并获得对组织资源的访问权限时，就会发生入侵。入侵检测是一种特定形式的监控，它监控记录的信息和实时事件，以检测指示潜在事件或入侵的异常活动。入侵检测系统 (IDS) 可自动检查日志和实时系统事件，以检测入侵企图和系统故障。 IDS 旨在作为纵深防御安全计划的一部分。它将与防火墙等其他安全机制一起工作并补充它们，但它不会取代它们。
- IDS 可以识别来自外部连接的攻击，例如来自 Internet 的攻击，以及内部传播的攻击，例如恶意蠕虫。一旦他们检测到可疑事件，他们就会通过发送警报或发出警报来做出响应。 IDS 的主要目标是提供一种及时准确地响应入侵的方法。
- 入侵检测和预防是指将更安全或更受信任的域或区域与不太受信任或不太安全的域或区域隔离和保护的一部分的功能。例如，这些是防火墙的自然功能。
- IDS 类型通常分为基于主机的和基于网络的。基于主机的 IDS (HIDS) 监视单个计算机或主机。基于网络的 IDS (NIDS) 通过观察网络流量模式来监控网络。
##### 基于主机的入侵检测系统 (HIDS)
- HIDS 监控单台计算机上的活动，包括进程调用和记录在系统、应用程序、安全和基于主机的防火墙日志中的信息。它通常可以比 NIDS 更详细地检查事件，并且可以查明在攻击中受损的特定文件。它还可以跟踪攻击者使用的进程。 HIDS 优于 NIDS 的一个优点是 HIDS 可以检测到 NIDS 无法检测到的主机系统上的异常。例如，HIDS 可以检测入侵者侵入系统并远程控制系统的感染。 HIDS 比 NIDS 的管理成本更高，因为它们需要对每个系统进行管理关注，而 NIDS 通常支持集中管理。 HIDS 无法检测对其他系统的网络攻击。
##### 网络入侵检测系统 (NIDS)
- NIDS 监视和评估网络活动以检测攻击或事件异常。它无法监控加密流量的内容，但可以监控其他数据包详细信息。单个 NIDS 可以通过使用远程传感器在将数据发送到中央管理控制台的关键网络位置收集数据来监控大型网络。这些传感器可以监控路由器、防火墙、支持端口镜像的网络交换机和其他类型的网络分路器的流量。 NIDS 对整体网络性能几乎没有负面影响，当它部署在单一用途系统上时，它不会对任何其他计算机的性能产生不利影响。 NIDS 通常能够检测到攻击的发起或正在进行的攻击，但它们不能始终提供有关攻击成功的信息。他们不知道攻击是否影响了特定系统、用户帐户、文件或应用程序。
##### 安全信息和事件管理 (SIEM)
- 安全管理涉及使用从许多不同来源收集有关 IT 环境的信息的工具，以更好地检查组织的整体安全性并简化安全工作。这些工具通常被称为安全信息和事件管理（或 SIEM，发音为“SIM”）解决方案。 SIEM 解决方案的总体思路是从整个企业的各种来源收集日志数据，以更好地了解潜在的安全问题并相应地分配资源。
- SIEM 系统可以与其他组件（纵深防御）一起使用，作为整体信息安全计划的一部分。
#### 识别威胁
- <img width="602" height="357" alt="截屏2025-12-08 09 39 11" src="https://github.com/user-attachments/assets/cd82102f-6403-4272-bac9-f41c4071b094" />
- 这里我们看到一个入侵检测系统 (IDS) 警报的示例。这是作为如何识别威胁的示例提供的，此场景中的一些概念比本课程更高级，因此如果您不了解此处讨论的所有内容，请不要惊慌。
- 我们将首先回顾呈现给我们的数据的要点。请注意，在此示例中，已删除主机名和用户名字段以保持匿名。
- 这告诉我们，IDS 检测到了名为 高级 IP 扫描仪 的软件的使用，攻击者可以使用该软件来枚举或查看网络，扫描地址以查看本地网络中的计算机上正在运行的服务。网络或系统管理员也使用此软件来清点本地网络以进行故障排除。最后，警报屏幕的顶部告诉我们该事态是由端点代理报告的，这意味着它是由主机入侵检测系统 (HIDS) 解决方案而不是网络入侵检测系统 (NIDS) 生成的。
此行将运行可疑进程的主机标识为 视窗 系统。
- <img width="623" height="354" alt="截屏2025-12-08 09 40 55" src="https://github.com/user-attachments/assets/64e13957-1ee9-4bb2-8c0d-dc51396415ba" />
- 此进程部分标识与 视窗 任务管理器中的进程相关的开始时间、进程名称和 ID（或 pid）编号。这可以在几个方面有所帮助。首先，开始时间告诉我们进程已经运行了多长时间。 pid 还可以提供一些线索，因为较低的 pid 数字可能表示在引导序列期间开始运行的进程，而较高的数字表示启动时间较晚的进程。
- 这些行为我们提供了可执行文件的详细信息，包括文件本身的路径以及用于运行可执行文件的实际命令行。这些在上下文中很重要，因为它们显示了从用户 ID 下的 温度 文件夹执行的程序，这通常不需要 视窗 系统中的管理权限。换句话说，它们可以由任何普通用户运行。使用的命令行显示了额外的上下文，包括应用程序作为可移植应用程序运行，这意味着它不必正式安装在机器上即可执行。
- <img width="623" height="354" alt="截屏2025-12-08 09 42 24" src="https://github.com/user-attachments/assets/dff5aa74-f514-4959-aa7d-9089f47c2316" />
- 在这种情况下，没有足够的上下文来真正知道这个进程是否被恶意使用。与许多安全警报一样，此警报依赖于一些人工交互，因此您应该联系分配给此资产的最终用户，询问他们是否实际上正在运行此软件，以及他们是否有合法的商业理由这样做。如果您发现这是故意的，那么这可能是向您解释您已收到警报的好地方，因为威胁参与者可以使用此合法软件在本地网络上进行侦察以确定可能存在漏洞的地方。
#### 预防威胁
- 虽然您无法采取单一步骤来防御所有威胁，但您可以采取一些基本步骤来帮助降低多种威胁的风险。
  - 使系统和应用程序保持最新。供应商会定期发布补丁来纠正错误和安全漏洞，但这些只有在应用时才有帮助。补丁管理确保系统和应用程序与相关补丁保持同步。
  - 删除或禁用不需要的服务和协议。如果系统不需要服务或协议，则不应运行。攻击者无法利用不在系统上运行的服务或协议中的漏洞。作为一个极端的对比，想象一个 网络 服务器正在运行所有可用的服务和协议。它很容易受到对任何这些服务和协议的潜在攻击。
  - 使用入侵检测和预防系统。如前所述，入侵检测和预防系统会观察活动，尝试检测威胁并提供警报。他们通常可以阻止或阻止攻击。
  - 使用最新的反恶意软件。我们已经介绍了各种类型的恶意代码，例如病毒和蠕虫。主要对策是反恶意软件。
  - 使用防火墙。防火墙可以防止许多不同类型的威胁。基于网络的防火墙保护整个网络，基于主机的防火墙保护单个系统。本章包括描述防火墙如何防止攻击的部分。
##### 杀毒软件
- 强烈鼓励使用防病毒产品作为安全最佳实践，并且是遵守支付卡行业数据安全标准 (PCI DSS) 的要求。有几种可用的防病毒产品，其中许多可以作为与其他几种安全产品集成的企业解决方案的一部分进行部署。
- 防病毒系统尝试根据已知恶意软件的签名或通过检测系统上的异常活动来识别恶意软件。这种识别是通过各种类型的扫描仪、模式识别和先进的机器学习算法来完成的。
- 随着现代解决方案试图提供一种更全面的方法来检测 rootkit、勒索攻击和间谍软件，反恶意软件现在不仅仅是病毒保护。许多端点解决方案还包括软件防火墙和 IDS 或 IPS 系统。
##### 扫描
- 这是 Zenmap 的示例扫描，显示主机上的开放端口。
- <img width="497" height="298" alt="截屏2025-12-08 09 44 58" src="https://github.com/user-attachments/assets/cb607622-5b15-4a67-a123-35eea92a08bf" />
- 定期漏洞和端口扫描是评估组织内使用的安全控制有效性的好方法。它们可能会揭示补丁或安全设置不足的区域、新漏洞已利用或暴露的区域以及安全策略无效或未遵循的区域。攻击者可以利用这些漏洞中的任何一个。
##### 防火墙
- eg. 拒绝(入站 ICMP 流量;来自网络内部的具有源 IP 和/或电子邮件地址的入站流量) 允许（没有附件的入站电子邮件）
- 在建筑施工或车辆设计中，防火墙是一种专门建造的物理屏障，可防止火从结构的一个区域蔓延到另一个区域或从车辆的一个隔间蔓延到另一个隔间。早期的计算机安全工程师借用这个名称来表示将网段彼此隔离的设备和服务，作为一种安全措施。因此，防火墙是指以将高风险活动与低风险活动隔离开来的方式设计、使用或操作不同流程的过程。
- 防火墙通过基于一组规则过滤网络流量来执行策略。虽然防火墙应始终放置在互联网网关处，但其他内部网络考虑因素和条件决定了防火墙的使用位置，例如网络分区或不同敏感度级别的隔离。防火墙随着时间的推移迅速发展，以提供增强的安全功能。这种能力的增长可以在图 5.37 中看到，它对比了传统和下一代防火墙的过度简化视图。它将各种威胁管理功能集成到一个框架中，包括代理服务、入侵防御服务 (IPS) 以及与身份和访问管理 (IAM) 环境的紧密集成，以确保仅允许授权用户通过基础设施传递流量。虽然防火墙可以管理第 2 层（MAC 地址）、第 3 层（IP 范围）和第 7 层 (应用程序编程接口 (API) 和应用程序防火墙）的流量，但传统的实施一直是控制第 4 层的流量。
- <img width="498" height="245" alt="截屏2025-12-08 09 45 38" src="https://github.com/user-attachments/assets/b6e85f5b-599e-497f-90e1-da1447288080" />
##### 入侵防御系统 (IPS)
- 入侵防御系统 (IPS) 是一种特殊类型的主动 IDS，它会在攻击到达目标系统之前自动尝试检测和阻止攻击。 IDS 和 IPS 之间的一个显着区别是 IPS 与流量保持一致。也就是说，所有的流量都必须经过 IPS，IPS 可以在分析后选择转发哪些流量，阻止哪些流量。这允许 IPS 防止攻击到达目标。由于 IPS 系统在防止基于网络的攻击方面最为有效，因此通常会看到 IPS 功能集成到防火墙中。就像 IDS 一样，有基于网络的 IPS (NIPS) 和基于主机的 IPS (HIPS)。
- <img width="476" height="329" alt="截屏2025-12-08 09 46 07" src="https://github.com/user-attachments/assets/b5132f2f-999a-4e5f-b2fe-aecfcf3f372e" />

### 哪些工具有助于识别、预防或同时识别和预防威胁？为每个工具选择识别、阻止或两者。
1. IDS 确认。 入侵检测系统有助于识别威胁，但没有能力阻止它们。
2. HIDS 确认。 主机入侵检测系统有助于识别对主机系统的威胁，但不能阻止它们。
3. NIDS 确认。 网络入侵检测系统有助于根据网络流量识别威胁，但不能阻止它们。
4. SIEM 确认。 安全事态和事态管理系统通过关联和存储来自多个系统的日志来识别威胁，但不采取措施防止威胁实现。
5. 反恶意软件/防病毒 全部。 反恶意软件/防病毒通过识别恶意软件并在进程完全执行之前停止进程，帮助识别和预防威胁。
6. 扫描 确认。 扫描通常通过进行漏洞分析来帮助识别威胁，并且可能会建议采取措施来减轻威胁，但不能阻止它们。
7. 防火墙 全部。 大多数现代防火墙都通过自动调整规则以阻止恶意流量进入安全网络来识别和防止威
8. IPS (NIPS/HIPS) 全部。 入侵防御系统既能识别又能防止威胁。
## 模块 3：了解网络安全基础架构
域 D4.3.1、D4.3.2

模块目标
L4.3.1 识别通用数据中心术语。
L4.3.2 识别常见的云服务术语。
L4.3.3 识别安全网络设计术语
### 本地数据中心
- 谈到数据中心，有两个主要选择：组织可以外包数据中心或拥有数据中心。如果数据中心是自有的，它很可能会建在本地。需要一个地方，例如数据中心的建筑物，以及电源、HVAC、灭火和冗余。
#### 数据中心/壁橱
- 设施布线基础设施是整个信息系统安全性和可靠性不可或缺的一部分。保护对网络物理层的访问对于最大限度地减少有意或无意的损害非常重要。物理站点的适当保护必须解决这些类型的安全挑战。数据中心和配线间可能包括以下内容：
  - 电话、网络、特殊连接
  - ISP 或电信提供商设备
  - 服务器
  - 接线和/或开关组件
#### 供暖、通风和空调 (HVAC) / 环境
- 封闭空间内的高密度设备和设备需要足够的冷却和气流。存在用于计算机设备操作的完善标准，并且根据这些标准对设备进行测试。例如，优化最大正常运行时间和硬件寿命的推荐范围是 64° 到 81°F（18° 到 27°C），建议机架具有三个温度传感器，分别位于顶部、中间和底部机架，以测量环境的实际工作温度。正确管理数据中心温度（包括冷却）至关重要。
- 冷却不是气流的唯一问题：灰尘和有毒烟雾等污染物需要适当的控制，以尽量减少对设备的影响。对水或气体泄漏、下水道溢出或 HVAC 故障的监测应集成到建筑控制环境中，并通过适当的警报向组织人员发出信号。应对警告的应急计划应优先考虑建筑物中的系统，以便将主要系统故障对人员、运营或其他基础设施的影响降至最低。
#### 力量
- 数据中心和信息系统通常会消耗大量电力，需要持续不断地提供电力。电力质量的大幅波动会影响系统的使用寿命，而供电中断则会完全停止系统运行。
- 现场供电始终是数据中心运营不可或缺的一部分。无论燃料来源如何，备用发电机的大小都必须能够提供关键负载（计算资源）和支持基础设施。同样，备用电池的尺寸必须适当，以承载关键负载，直到发电机启动并稳定下来。与数据备份一样，需要进行测试以确保故障转移到备用电源正常工作。
#### 灭火
- 对于服务器机房，必须根据机房的大小、典型的人员占用、出口路线和设备损坏风险考虑适当的火灾探测/抑制。例如，用于灭火的水会对服务器和其他电子元件造成更大的伤害。基于气体的灭火系统对电子设备更友好，但可能对人体有毒。
### 深入了解本地数据中心
- 现在我们已经了解了构建本地数据中心时必须考虑的一些主要组件，我们应该更深入地研究一些组件。
- 首先，我们考虑数据中心的空调要求。服务器和其他设备会产生大量热量，必须妥善处理。这不仅是为了让有人在场时感到舒适，而且是为了确保设备保持在其运行参数范围内。当设备过热时，可能会导致更快的故障或保修失效。大多数设备被编程为在达到某个温度阈值时自动关闭。这有助于保护设备，但用户无法使用已关闭的系统。系统异常关闭也可能导致数据丢失或损坏。
- 本地数据中心的另一个考虑因素是灭火系统。在美国，大多数商业建筑都需要配备在火灾中启动的自动喷水灭火系统。这些洒水器最大限度地减少了对建筑物造成的损害，并防止火势蔓延到邻近区域，但它们可能对电子设备有害，因为水和电不会混合。虽然大多数水基灭火系统不像电影中那样工作，建筑物的一个部分发生火灾会打开整个建筑物的喷水器，但另一个危险是数据中心的头顶上有水。最终，水管会失效并可能在设备上泄漏。这种风险可以通过使用干管系统来降低数据中心上方的管道中的水。这些系统在数据中心外有一个阀门，只有在传感器指示发生火灾时才会打开。由于数据中心上方的管道中没有水，因此降低了泄漏的风险。
### 冗余
- 冗余的概念是设计具有重复组件的系统，这样如果发生故障，就会有备份。这也适用于数据集线器。与数据集线器相关的风险评估应确定何时需要多个单独的公用事业服务入口来实现冗余通信通道和/或机制。
- 如果组织需要完全冗余，设备应该有两个电源连接到不同的电源。这些电源将由电池和发电机提供支持。在高可用性环境中，即使是发电机也是多余的，并由不同的燃料类型供电。
- <img width="438" height="369" alt="截屏2025-12-08 09 52 47" src="https://github.com/user-attachments/assets/704e7eb5-cdc5-4571-8daf-795a2b289248" />
#### 冗余示例（应用）
- 除了保持信息的冗余备份外，您还拥有冗余电源，以提供备用电源，从而使您拥有不间断的电源或UPS。也可能涉及转换开关或变压器。如果电力因天气或停电而中断，备用发电机是必不可少的。通常会有两台发电机通过两个不同的转换开关连接。这些发电机可能由柴油或汽油或丙烷等其他燃料供电，甚至由太阳能电池板供电。一家医院或重要的政府机构可能与一家以上的电力公司签订合同，并在两个不同的电网上，以防其中一个断电。这就是我们所说的冗余。
### 谅解备忘录 (MOU)/协议备忘录 (MOA)
- 一些寻求最小化停机时间并增强 BC（业务连续性）和 DR（灾难恢复）能力的组织将与其他类似组织签订协议。他们同意，如果一方遇到紧急情况并且无法在自己的设施内运作，另一方将共享其资源并让他们在自己的设施内运作，以维持关键功能。这些协议通常甚至包括竞争对手，因为他们的设施和资源满足其特定行业的需求。
- 例如，医院 A 和医院 B 是同一个城市的竞争对手。医院之间达成了一项协议：如果医院 A 发生了不好的事情（火灾、洪水、炸弹威胁、断电等），该医院可以临时派遣人员和系统在医院 B 内工作，以便留下来中断期间的业务（如果医院 B 有类似问题，医院 B 可以搬迁到医院 A）。医院已经决定，他们不会以安全和保障为基础进行竞争——他们将在服务、价格和客户忠诚度方面进行竞争。通过这种方式，他们可以保护自己和整个医疗保健行业。
- 这些协议称为联合运营协议 (JOA) 或谅解备忘录 (MOU) 或协议备忘录 (MOA)。有时，这些协议是由监管要求强制执行的，或者它们可能只是实体在其行业指导方针内制定的行政保障措施的一部分。
- MOA 或 MOU 与 SLA 之间的区别在于，谅解备忘录与系统或信息可以做什么更直接相关。
- 服务级别协议细化到细化级别。例如，如果我将 IT 服务外包，那么我需要有两个随时可用的全职技术人员，至少从周一到周五从八点到五点。使用云计算，我需要在 10 分钟内访问我的备份系统中的信息。 SLA 指定了服务更复杂的方面。
- 在外包基于云的服务时，我们必须非常谨慎，因为我们必须确保我们完全理解我们同意的内容。如果 SLA 承诺 100% 的信息可访问性，那么目前是直接访问您，还是在周一开放时访问他们的网站或通过他们的门户网站？这就是您可以依靠您的法律团队的地方，他们可以在您签署底部的虚线之前仔细监督和审查条件。
 
### 以下哪一项不是冗余电源的来源（D4，L4.3.1）：A
 A. 暖通空调
 B. 发电机
 C. 实用程序
 D. UPS
- Notes：HVAC 不是冗余电源的来源，但它需要由冗余电源保护，这是其他三个选项将提供的。如果 HVAC 系统发生故障并且设备过热会怎样？如果数据中心的温度过热，则存在服务器关闭或故障比预期更快的风险，从而存在数据丢失的风险。因此，这是另一个需要冗余以降低数据丢失风险的系统。但它本身并不是冗余电源的来源。
### 云
- 云计算 通常与基于 互联网 的一组计算资源相关联，通常作为服务出售，由云服务提供商 (CSP) 提供。
- 云计算与电力或电网非常相似。它是在一个地理位置提供的，并且是使用对消费者来说不一定显而易见的电子方式来获取的。但是，当您需要电力时，您可以通过一个通用的标准接口获得电力，并且您只需为使用的电量付费。在这些方面，云计算非常相似。它是一个非常可扩展、灵活且易于使用的“实用程序”，用于信息技术 (IT) 服务的供应和部署。
- 根据包括 NIST 在内的领先标准，云计算的含义有多种定义。这个 NIST 定义在全球范围内普遍使用，被专业人士和其他人引用以阐明“云”一词的含义：
- “一种模型，用于实现对可配置计算资源（例如网络、服务器、存储、应用程序和服务）的共享池的无处不在、方便、按需的网络访问，可以以最少的管理工作或服务提供商快速配置和发布相互作用。” NIST SP 800-145
- 此图像描述了云计算特征、服务和部署模型，所有这些都将在本节中和您的讲师进行介绍。
-  <img width="466" height="292" alt="截屏2025-12-08 09 56 12" src="https://github.com/user-attachments/assets/85f02c01-cb85-4d96-a68a-6538fe28596c" />
#### 云冗余
- 许多组织已经从硬连线的服务器机房转移到由基于云的设施运行的操作，因为它提供了安全性和灵活性。云服务提供商有不同的可用区，因此如果一个出现故障，活动可以转移到另一个。您不必维护一个包含所有冗余的整个数据中心——云服务提供商会为您做到这一点。
- 与云服务提供商签订合同的方式有多种。您可以设置计费，使其取决于使用的数据，就像您的手机一样。而且您拥有资源池，这意味着您可以共享其他同事或类似行业的资源，为人工智能或分析提供数据。
#### 云特征
- 基于云的资产包括组织使用云计算访问的任何资源。云计算是指按需访问几乎可以从任何地方获得的计算资源，并且云计算资源具有高可用性和易于扩展的特性。组织通常从组织外部租用基于云的资源。云计算对组织有很多好处，包括但不限于：
- 使用量根据消耗的单位（或实例）计量和定价。这也可以计入特定部门或职能部门。
降低拥有成本。无需购买任何日常使用的资产，资产价值不会随着时间的推移而损失，并减少其他相关的维护和支持成本。
- 降低能源和冷却成本，以及“绿色 IT”环境效应以及 IT 资源和系统的最佳使用。
允许企业通过云系统快速扩展新软件或基于数据的服务/解决方案，而无需在本地安装大量硬件。
#### 服务模式
- 一些基于云的服务仅提供数据存储和访问。在云中存储数据时，组织必须确保安全控制到位，以防止未经授权访问数据。
- 根据服务模型的不同，资产的责任级别也不同。这包括维护资产，确保它们保持功能，并使用当前补丁使系统和应用程序保持最新。在某些情况下，云服务提供商负责这些步骤。在其他情况下，消费者负责这些步骤。
- 云计算服务模型的类型包括软件即服务（SaaS）、平台即服务（PaaS） 和 基础设施即服务（IaaS).
##### 软件即服务 (SaaS)
- 软件即服务 (SaaS)：云提供对软件应用程序的访问，例如电子邮件或办公生产力工具。 SaaS 是一种分布式模型，其中软件应用程序由供应商或云服务提供商托管，并通过网络资源提供给客户。 SaaS 是一种广泛使用和采用的云计算形式，用户通常需要互联网连接和访问凭证才能充分利用云服务、应用程序和数据。 SaaS 对组织有很多好处，包括但不限于： 易用性和有限/最少的管理。自动更新和补丁管理。用户将始终运行最新版本和最新部署的软件版本，以及任何相关的安全更新，无需手动修补。标准化和兼容性。所有用户都将拥有相同版本的软件版本。
##### 平台即服务 (PaaS)
- 平台即服务 (PaaS)：云为客户提供了一个环境，用于构建和操作他们自己的软件。 PaaS 是客户通过互联网从云服务提供商处租用硬件、操作系统、存储和网络容量的一种方式。服务交付模式允许客户租用虚拟化服务器和相关服务来运行现有应用程序或开发和测试新应用程序。消费者不管理或控制底层云基础设施，包括网络、服务器、操作系统或存储，但可以控制已部署的应用程序和可能的应用程序托管环境配置。 PaaS 云提供了一个工具包，用于方便地开发、部署和管理应用软件，该软件的结构可以支持大量消费者、处理大量数据并可能从 互联网 上的任何点访问。 PaaS 云通常会提供一组软件构建块和一组开发工具，例如编程语言和支持运行时环境，以促进构建高质量、可扩展的应用程序。此外，PaaS 云通常会提供有助于部署新应用程序的工具。在某些情况下，在 PaaS 云中部署新的软件应用程序并不比将文件上传到 网络 服务器困难多少。 PaaS 云通常还将提供和维护消费者应用程序运行所需的计算资源（例如，处理、存储和网络）。 PaaS 云为开发人员提供了许多好处，包括可以频繁更改和升级操作系统，以及相关的功能和系统服务。
##### 基础设施即服务 (IaaS)
- 基础设施即服务 (IaaS)：云提供对传统计算资源（如处理能力和存储）的网络访问。 IaaS 模型为消费者提供基本的计算资源。这包括服务器、存储，在某些情况下，还包括网络资源。消费者安装操作系统和应用程序，并对操作系统和应用程序执行所有必需的维护。虽然消费者使用了相关设备，但云服务提供商保留所有权并最终负责硬件的托管、运行和维护。 IaaS 也被一些客户和供应商称为硬件即服务。 IaaS 为组织带来了许多好处，包括但不限于： 根据实际使用情况扩展和缩减基础设施服务的能力。这在基础设施的使用曲线中有明显的高峰和低谷时特别有用和有益。在操作系统级别保留系统控制权。
#### 部署模型
- 有四种云部署模型。云部署模型也会影响基于云的资产的职责分解。可用的四种云模型是 公共的、私有的、混合的和社区云的。
##### 公有云
- 公有云就是我们通常所说的面向公共用户的云。访问公共云非常容易。除了申请和支付云服务之外，没有真正的机制。它对公众开放，因此是一种共享资源，许多人将能够将其用作资源池的一部分。公共云部署模型包括可供任何消费者租用或租赁的资产，并由外部云服务提供商 (CSP) 托管。服务水平协议可以有效地确保 CSP 以组织可接受的水平提供基于云的服务。
##### 私有云
- 私有云从与公共云相同的技术概念开始，只是它们不是与公众共享，而是通常为构建自己的云的私有组织开发和部署。组织可以使用自己的资源创建和托管私有云。因此，此部署模型包括单个组织的基于云的资产。因此，组织负责所有维护。但是，组织也可以从第三方租用资源，并根据服务模型（SaaS、PaaS 或 IaaS）拆分维护需求。私有云为组织及其部门提供对私有云中可用的计算、存储、网络和软件资产的私有访问。
##### 混合
- 混合云部署模型是通过结合两种形式的云计算部署模型创建的，通常是公共云和私有云。混合云计算越来越受到组织的欢迎，因为它使他们能够保持对 IT 环境的控制，方便地允许他们使用公共云服务来完成非关键任务工作负载，并利用灵活性、可扩展性和成本节约优势。混合云部署的重要驱动因素或好处包括：保留对与技术相关的关键任务和流程的所有权和监督，在组织内重用以前对技术的投资，控制最关键的业务组件和系统，以及实现非关键业务的经济高效的方法功能（利用公共云组件）。
##### 社区云
- 社区云可以是公共的，也可以是私有的。它们的独特之处在于它们通常是为特定社区云开发的。例如，主要关注有机食品的公共社区云，或者专门关注金融服务的社区云。社区云背后的理念是，志同道合或兴趣相近的人可以聚在一起，共享 IT 能力和服务，并以有利于他们共享的特定兴趣的方式使用它们。
### 托管服务提供商 (MSP)
- 托管服务提供商 (MSP) 是为另一家公司管理信息技术资产的公司。中小型企业通常将其部分或全部信息技术功能外包给 MSP，以管理日常运营或在公司不具备的领域提供专业知识。组织也可以使用 MSP 来提供网络和安全监控和修补服务。如今，许多 MSP 提供基于云的服务，通过积极的事态调查和响应活动来增强 SaaS 解决方案。一个这样的例子是托管检测和响应 (MDR) 服务，其中供应商监控防火墙和其他安全工具，以提供对事态进行分类的专业知识。
  - 其他一些常见的 MSP 实现是： 
  - 为项目增加内部人员
  - 利用专业知识来实施产品或服务
  - 提供薪资服务
  - 提供 服务台服务管理
  - 监控和响应安全事件
  - 管理所有内部 IT 基础架构
### 服务水平协议 (SLA)
- 云计算服务水平协议 (云 SLA) 是云服务提供商和云服务客户之间基于云计算分类的协议——用于设置所交付云服务质量的特定条款。它根据一组特定于云计算（业务和技术）的可测量属性和一组给定的云计算角色（云服务客户、云服务提供商和相关子角色）来描述所交付的云服务的质量。
- 想想规则手册和法律合同——这种组合就是您在服务水平协议 (SLA) 中所拥有的。让我们不要低估或淡化这份文件/协议的重要性。其中规定了服务、可用性、安全性、控制、流程、通信、支持和许多其他关键业务要素的最低水平，并得到双方的同意。
- SLA 的目的是记录特定参数、最低服务水平和任何未能满足指定要求的补救措施。它还应确认数据所有权并指定数据返回和销毁细节。其他需要考虑的重要 SLA 要点包括:
  - 云系统基础架构细节和安全标准
  - 客户有权审核 CSP 的法律和法规遵从性
  - 与继续和停止服务使用相关的权利和成本
  - 服务可用性
  - 服务表现
  - 数据安全和隐私
  - 灾难恢复流程
  - 数据位置
  - 数据访问
  - 数据可移植性
  - 问题识别和解决期望
  - 变更管理流程
  - 争议调解程序
  - 退出策略
### 网络设计
网络设计的目标是满足数据通信要求并产生高效的整体性能。
#### 网络分段
- 网络分段涉及控制联网设备之间的流量。当网络与所有外部通信隔离时，就会发生完全或物理网络分段，因此事务只能在分段网络内的设备之间发生。
- <img width="466" height="292" alt="截屏2025-12-08 10 03 50" src="https://github.com/user-attachments/assets/256d3b85-a10c-41b9-8fdf-b5132b33c827" />
#### 非军事区（DMZ）
- DMZ 是一个网络区域，旨在供外部访问者访问，但仍与组织的专用网络隔离。 DMZ 通常是公共 网络、电子邮件、文件和其他资源服务器的主机。
- <img width="289" height="196" alt="截屏2025-12-08 10 04 32" src="https://github.com/user-attachments/assets/b59b1967-0560-420a-adec-0d344d016e37" />
#### 虚拟局域网（VLAN）
- VLAN 由交换机创建，用于在不改变其物理拓扑的情况下对网络进行逻辑分段。
- <img width="384" height="274" alt="截屏2025-12-08 10 05 25" src="https://github.com/user-attachments/assets/e75d9917-6b3c-47f6-ac07-f965b9260ce2" />
#### 虚拟专用网络（VPN）
- 虚拟专用网络 (VPN) 是一种通信隧道，可通过不受信任的网络提供身份验证和数据流量的点对点传输
- <img width="395" height="357" alt="截屏2025-12-08 10 06 12" src="https://github.com/user-attachments/assets/5b91da2e-3d2c-4b01-aa0c-ee62f55ee02a" />
#### 纵深防御
- 深度防御在文字或理论层中使用多种类型的访问控制来帮助组织避免单一的安全立场。
- <img width="401" height="181" alt="截屏2025-12-08 10 06 56" src="https://github.com/user-attachments/assets/8fd1caa7-d9f4-4f00-8d39-bb2b040d43d2" />
#### 网络访问控制
- 网络访问控制 (NAC) 是通过严格遵守和实施安全策略来控制对环境的访问的概念。
- <img width="405" height="213" alt="截屏2025-12-08 10 07 20" src="https://github.com/user-attachments/assets/bf77c596-b90e-4afe-9e49-e3104298f0b9" />
### 纵深防御
- 在设计组织的安全态势时，深度防御使用分层方法。想想拥有皇冠上的珠宝的城堡。珠宝将被放置在由保安守卫的中央位置的拱形房间中。城堡建在拱顶周围，还有额外的安全层——士兵、城墙、护城河。在设计设施或系统的逻辑安全性时，同样的方法也是如此。使用安全层将阻止许多攻击者并鼓励他们专注于其他更容易的目标。
- 纵深防御为考虑所有类型的控制（管理、技术和物理）提供了更多的起点，这些控制使内部人员和运营商能够共同努力保护他们的组织及其系统。
- 以下是一些进一步解释深度防御概念的示例： 
  - 数据：通过加密、数据泄露预防、身份和访问管理以及数据控制等技术保护实际数据的控制。
  - 应用程序：通过数据泄漏预防、应用程序防火墙和数据库监视器等技术保护应用程序本身的控制。
  - 主机：放置在端点级别的每个控件，例如防病毒、端点防火墙、配置和补丁管理。
  - 内部网络：为保护整个组织网络中不受控制的数据流和用户访问而实施的控制措施。相关技术包括入侵检测系统、入侵防御系统、内部防火墙和网络访问控制。
  - 周界：防止未经授权访问网络的控制。此级别包括使用网关防火墙、蜜罐、恶意软件分析和安全非军事区 (DMZ) 等技术。
  - 物理：提供物理屏障的控制，例如锁、墙或访问控制。
  - 政策、程序和意识：减少内部威胁（有意和无意）并在风险出现时立即识别风险的管理控制。
- <img width="451" height="357" alt="截屏2025-12-08 10 09 15" src="https://github.com/user-attachments/assets/1fbb776c-bc63-45aa-b29d-eedcac7f410a" />
### 零信任
- 零信任 网络通常是微分段网络，几乎每个连接点都有防火墙。零信任封装了信息资产、适用于它们的服务及其安全属性。这一概念认识到，一旦进入信任但验证的环境，用户可能拥有无限的能力来漫游、识别资产和系统并可能发现可利用的漏洞。在整个网络中放置更多数量的防火墙或其他安全边界控制设备会增加在造成伤害之前检测到麻烦制造者的机会。许多企业架构正在将其推向极端，即对其内部网络进行微分段，这会强制对用户 ID 进行频繁的重新身份验证，如图所示。
- 考虑一场摇滚音乐会。通过传统的周边控制，例如防火墙，您可以在门口出示您的门票，并可以免费进入场地，包括真正的摇滚明星所在的后台。在零信任环境中，会添加额外的检查点。您的身份（门票）经过验证后可进入楼层座位，并再次进入后台区域。您的凭证必须在所有 3 个级别都有效，才能与节目的明星见面。
- 零信任是一种不断发展的设计方法，它认识到即使是最强大的访问控制系统也有其弱点。它在用户、资产和数据级别增加了防御，而不是依赖外围防御。在极端情况下，它坚持用户尝试执行的每个过程或操作都必须经过身份验证和授权；信任之窗变得微乎其微。
- 虽然 微分段 增加了内部边界，但零信任将重点放在资产或数据上，而不是边界上。零信任建立了更有效的大门来直接保护资产，而不是建造额外或更高的墙。
- <img width="483" height="288" alt="截屏2025-12-08 10 10 09" src="https://github.com/user-attachments/assets/d3fa05cc-6890-4329-a19f-a47d15e5692e" />
### 网络访问控制 (NAC)
- 一个组织的网络可能是其最重要的资产之一。因此，我们必须了解并控制来自内部人员（例如员工、承包商）和外部人员（例如客户、公司合作伙伴、供应商）的访问权限。我们需要能够看到谁和什么试图建立网络连接。
- 曾经，网络访问仅限于内部设备。逐渐地，这扩展到了远程连接，尽管最初这些是例外而不是常态。随着自带设备 (BYOD) 和物联网 (IoT) 的概念，这种情况开始发生变化。
- 暂时只考虑物联网，了解组织内可能存在的设备范围很重要。它们包括加热、通风和空调 (HVAC) 系统，用于监测环境温度并自动调节加热或冷却水平或空气监测系统，通过安全系统、传感器和摄像头，一直到自动售货机和咖啡机。环顾您自己的环境，您将很快看到它们的使用规模。
- 在确定了对 NAC 解决方案的需求之后，我们需要确定解决方案可以提供哪些功能。众所周知，一切都始于政策。组织的访问控制策略和相关的安全策略应该通过 NAC 设备来实施。当然，请记住，访问控制设备仅执行策略而不创建策略。
- NAC 设备将提供访问安全所需的网络可见性，并可在以后用于事件响应。除了识别连接之外，它还应该能够为隔离网络中的不合规设备提供隔离，并提供一种机制来“修复”不合规元素，例如打开端点保护。简而言之，目标是确保所有希望加入网络的设备只有在符合组织策略中规定的要求时才这样做。这种可见性将包括内部用户以及任何临时用户（例如来宾或承包商等），以及他们可能带入组织的任何设备。
- 让我们考虑一些 NAC 部署的可能用例：
  - 医疗设备
  - 物联网设备
  - BYOD/移动设备（笔记本电脑、平板电脑、智能手机）
  - 来宾用户和承包商
- 正如我们已经确定的那样，所有移动设备（无论其所有者如何）都必须经历一个入职流程，最好是每次建立网络连接时，并且识别和询问设备以确保满足组织的政策，这一点至关重要.
- <img width="492" height="430" alt="截屏2025-12-08 10 11 17" src="https://github.com/user-attachments/assets/7da78f10-cddd-4632-aaf8-dfd6e55de907" />
### NAC 深入探讨
- 以最简单的形式，网络访问控制或 NAC 是一种防止不需要的设备连接到网络的方法。一些 NAC 系统允许在最终用户的设备上安装所需的软件，以在连接之前强制设备遵守策略。 NAC 系统的一个高级示例是酒店互联网访问。通常，连接到酒店网络的用户需要在被允许访问互联网之前确认可接受的使用政策。用户单击确认按钮后，设备将连接到启用互联网访问的网络。一些酒店添加了一个额外的层，要求客人在获得访问权限之前输入特殊密码或房间号和客人姓名。这可以防止非酒店客人的滥用行为，甚至可能有助于跟踪特定用户的网络滥用行为。
- 稍微复杂一点的场景是企业将员工 BYOD 设备与网络上的企业自有设备分开。如果 BYOD 设备被预先批准并允许连接到公司网络，NAC 系统可以使用硬件地址或安装的软件来验证设备，甚至可以检查以确保杀毒软件和操作系统软件是最新的。将其连接到网络。或者，如果它是不允许连接到公司网络的个人设备，则可以将其重定向到访客网络以访问 互联网，而无需访问内部公司资源。
### 网络分段（非军事区（DMZ））
- 网络分段也是实现分布式或多层应用深度防御的有效方式。例如，使用非军事区 (DMZ) 是安全架构中的常见做法。使用 DMZ，可通过防火墙访问的主机系统通过安全交换机或通过使用附加防火墙来控制 网络 服务器和内部网络之间的流量，在物理上与内部网络分离。应用程序 DMZ（或半可信网络）如今经常用于限制对应用程序服务器的访问，以限制那些具有合法连接需求的网络或系统。
#### DMZ 更深的潜水
- 网络前端服务器可能位于 DMZ 中，但它可能会从位于防火墙另一端的数据库服务器中检索数据。
- 例如，您可能有一个管理客户个人信息的网络，即使数据已被加密或通过密码术混淆，您也需要确保网络与网络的其余部分完全隔离，并使用一些仅授权的个人可以访问。只有经过授权的人员才能控制防火墙设置和控制 网络 服务器与内部网络之间的流量。例如，在医院或医生办公室，您将拥有一个用于患者信息和计费的隔离网络，而另一端则是电子病历。如果他们使用基于网络的应用程序来提供医疗记录服务，他们将拥有一个非军事区或分段区域。甚至在防火墙之后，他们也有自己的指定服务器来保护关键信息并将其隔离。
- 在这一点上值得注意的是，虽然本课程不会探讨细节，但某些网络使用 网络 应用程序防火墙 (WAF) 而不是 DMZ 网络。 WAF 与传统防火墙一样具有内部和外部连接，外部流量首先由传统或下一代防火墙过滤。在将命令传递到可能位于网络内部的 网络 服务器之前，它会从外部监视所有流量（无论是否加密）是否存在恶意行为。
### 嵌入式系统和物联网的细分
- 嵌入式系统是作为更大系统的一部分实现的计算机。嵌入式系统通常是围绕一组有限的特定功能设计的，这些功能与其作为组件的更大产品相关。嵌入式系统的示例包括联网打印机、智能电视、HVAC 控制、智能电器、智能恒温器和医疗设备。
- 支持网络的设备是具有本地网络功能的任何类型的便携式或非便携式设备。这通常假设所讨论的网络是无线类型的网络，通常由移动电信公司提供。支持网络的设备包括智能手机、手机、平板电脑、智能电视或流媒体播放器（如 Roku播放器、亚马逊消防电视 或 谷歌安卓电视/Chromecast）、网络连接的打印机、游戏系统等等。
- 物联网 (IoT) 是可以通过 互联网 相互通信或与控制台通信以影响和监控现实世界的设备的集合。物联网设备可能被标记为智能设备或智能家居设备。在写字楼中发现的许多工业环境控制理念正在为小型办公室或个人住宅提供更多消费者可用的解决方案。
- 与互联网通信的嵌入式系统和支持网络的设备被视为物联网设备，需要特别注意以确保不会以恶意方式使用通信。由于嵌入式系统通常控制物理世界中的机制，因此安全漏洞可能会对人员和财产造成伤害。由于这些设备中有许多具有多个访问路由，例如以太网、无线、蓝牙等，因此应特别注意将它们与网络上的其他设备隔离开来。您可以使用 VLAN 或通过其他流量控制方式（包括 MAC 地址、IP 地址、物理端口、协议或应用程序过滤、路由和访问控制管理）对交换机实施逻辑网络分段。网络分段可用于隔离物联网环境。
- <img width="496" height="472" alt="截屏2025-12-08 10 13 34" src="https://github.com/user-attachments/assets/68bec57c-9e75-4044-99bf-34a45147450a" />
#### 嵌入式系统和物联网的细分更深入
- 使嵌入式系统高效运行的特性也是一种安全风险。嵌入式系统通常用于控制物理上的东西，例如水、蒸汽甚至油的阀门。这些设备的指令集有限，通常是硬编码或永久写入内存芯片。为了便于操作机械部件，嵌入式系统通常连接到公司网络，因为并且可以使用 TCP/IP 协议运行，是的，与在整个互联网上运行的协议相同。因此，互联网上任何地方的任何人都可以在网络完全连接时控制阀门的打开和关闭。这是在网络上对这些系统进行分段的主要原因。如果这些被正确分割，受感染的公司网络将无法访问嵌入式系统上的物理控件。
- 嵌入式系统的另一面，也适用于物联网设备，是发现新漏洞时普遍缺乏系统更新。对于大多数直接在芯片上编程的嵌入式系统，需要物理更换芯片来修补漏洞。对于许多系统而言，让专人上门更换芯片或手动连接芯片重新编程可能并不划算。
- 我们购买所有这些互联网连接的东西是因为方便。相机、灯泡、扬声器、冰箱等都给我们的生活带来了某种便利，但它们也带来了风险。虽然知名的主流品牌可能会在发现新漏洞时为其设备提供更新，但许多较小的公司根本不打算这样做，因为他们试图控制设备的成本。这些设备在连接到公司网络时，可以成为网络犯罪分子访问公司网络的简单连接互联网的门户。如果这些设备在网络上与公司服务器和其他公司网络进行了适当的分段或分离，则物联网设备或嵌入式系统的入侵将无法访问这些公司数据和系统。
### 微分段
- 当前对手的工具集本质上是多态的，并且允许威胁绕过静态安全控制。现代网络攻击利用传统安全模型在数据中心内的系统之间轻松移动。微分段有助于防止这些威胁。微分段的基本设计要求是了解数据中心内的流量以及进出互联网流量的流量的保护要求。
- 当组织避免以基础设施为中心的设计范式时，他们更有可能在数据中心内更高效地提供服务，并更善于检测和预防高级持续性威胁。
#### 微分段深入探讨
- 关于微分段的一些要点：
- 微分段允许在 IT 环境中进行极其精细的限制，以至于可以将规则应用于单个机器和/或用户，并且这些规则可以根据需要尽可能详细和复杂。例如，我们可以限制哪些 IP 地址可以与给定的机器通信，在一天中的什么时间，使用哪些凭据，以及这些连接可以使用哪些服务。
- 这些是逻辑规则，而不是物理规则，并且不需要额外的硬件或与设备的手动交互（也就是说，管理员可以将规则应用于各种机器，而无需物理接触每个设备或将其连接到网络环境的电缆)。
- 这是纵深防御哲学的终极境界； IT 环境中的任何单一访问点都不会导致更广泛的妥协。
- 这在共享环境中至关重要，例如云，其中多个客户的数据和功能可能驻留在同一设备上，并且第三方人员（为云提供商工作的管理员/技术人员，而不是客户） ) 可能对设备具有物理访问权限。
- 微分段允许组织限制哪些业务功能/单位/办公室/部门可以与其他人进行通信，以实施最小特权的概念。例如，人力资源办公室可能拥有其他业务部门不应访问的员工数据，例如员工家庭住址、工资、医疗记录等。微分段，如 VLAN，可以使 HR 成为自己独特的 IT 飞地，以便敏感数据对其他业务实体不可用，从而降低了暴露风险。
- 在现代环境中，由于虚拟化和软件定义网络 (SDN) 技术，微分段可用。在云中，应用此策略的工具通常称为“虚拟专用网络 (VPN)”或“安全组”。即使在您的家中，微分段也可用于将计算机与智能电视、空调和可以连接但可能存在漏洞的智能电器分开。
### 虚拟局域网 (VLAN)
- 虚拟局域网 (VLAN) 允许网络管理员使用交换机来创建基于软件的 LAN 段，这可以跨多个交换机端口隔离或合并流量。共享 VLAN 的设备通过交换机进行通信，就好像它们在同一个第 2 层网络上一样。此图显示了不同的 VLAN（红色、绿色和蓝色）将不同的端口集连接在一起，同时共享相同的网段（由两个交换机及其连接组成）。由于 VLAN 充当离散网络，因此必须启用 VLAN 之间的通信。广播流量仅限于 VLAN，减少拥塞并降低某些攻击的有效性。简化了环境管理，因为当个人更改其物理位置或需要访问不同的服务时，可以重新配置 VLAN。 VLAN 可以根据交换机端口、IP 子网、MAC 地址和协议进行配置。
- VLAN 不能保证网络的安全。乍一看，似乎无法拦截流量，因为 VLAN 内的通信仅限于成员设备。但是，有些攻击允许恶意用户查看来自其他 VLAN 的流量（所谓的 VLAN 跳跃）。 VLAN技术只是可以提高网络环境整体安全性的一种工具。
- <img width="491" height="335" alt="截屏2025-12-08 10 15 40" src="https://github.com/user-attachments/assets/30f29cfc-146e-44b3-92f9-13d961cb8423" />
#### VLAN分段
- VLAN 是交换机内的虚拟分隔，主要用于限制广播流量。 VLAN 可以配置为与其他 VLAN 通信或不通信，并可用于隔离网段。
- 在公司网络中有一些 VLAN 的常见用途。第一个是将 IP 语音 (VOIP) 电话与公司网络分开。通常这样做是为了通过将语音通信与网络的其余部分隔离来更有效地管理由语音通信产生的网络流量。
- VLAN 在公司网络中的另一个常见用途是将数据中心与所有其他网络流量分开。这使得更容易将服务器到服务器的流量保持在数据中心网络中，同时允许来自工作站或 网络 的某些流量访问服务器。如前所述，VLAN 也可用于对网络进行分段。例如，VLAN 可以将工资单工作站与网络中的其他工作站分开。路由规则还可用于仅允许此工资 VLAN 内的设备访问包含工资信息的服务器。
- 早些时候，我们还讨论了网络访问控制 (NAC)。这些系统使用 VLAN 来控制设备是连接到公司网络还是连接到访客网络。即使无线接入控制器可以连接到物理网络交换机上的单个端口，与无线接入控制器上的设备连接相关联的 VLAN 也决定了设备运行的 VLAN 以及允许它连接到哪些网络。
- 最后，在大型企业网络中，VLAN 可用于限制网络内的广播流量。这在包含 1,000 多个设备的网络中最为常见，并且可以根据需要按部门、位置/建筑物或任何其他标准进行分隔。
- 要记住的最重要的事情是，虽然 VLAN 在逻辑上是分开的，但它们可能被允许访问其他 VLAN。它们还可以配置为拒绝访问其他 VLAN。
### 虚拟专用网络 (VPN)
- 虚拟专用网络 (VPN) 不一定是加密隧道。它只是两个主机之间允许它们通信的点对点连接。当然，安全通信可以由 VPN 提供，但前提是已选择并正确配置了安全协议，以便在不受信任的网络（例如互联网）上提供受信任的路径。远程用户使用 VPN 访问其组织的网络，并且根据 VPN 的实施，他们可能拥有大部分可用资源，就好像他们实际在办公室一样。作为昂贵的专用点对点连接的替代方案，组织使用网关到网关 VPN 在站点之间甚至与业务合作伙伴之间通过 互联网 安全地传输信息。
### 哪个术语描述了在不受信任的网络上提供身份验证和数据流量的点对点传输的通信隧道？ （D4，L4.3.2）
 A. VPN
正确的。虚拟专用网络 (VPN) 描述了一种通信隧道，它通过不受信任的网络提供身份验证和数据流量的点对点传输。
  B. 零信任
不正确。零信任是一个使用微分段来保护网段的概念。
 C. DMZ
不正确。 DMZ 是一个虚拟网段，通常由防火墙定义，其中包含企业网络和互联网之间不太受信任的设备。
 D. 以上都不是
不正确。虚拟专用网络 (VPN) 描述了一种通信隧道，它通过不受信任的网络提供身份验证和数据流量的点对点传输。
## 第四章小结
第四章小结
域 4.1.1、4.1.2、4.1.3、4.2.1、4.2.2、4.2.3、4.3.1、4.3.2、4.3.3 

模块目标
L4.4.1 练习术语并审查访问控制的概念
在本章中，我们介绍了计算机网络和保护网络。网络只是连接在一起以共享数据、信息或资源的两台或多台计算机。有许多类型的网络，例如 LAN、WAN、WLAN 和 VPN, 仅举几例。在网络上发现的一些设备可以是集线器、交换机、路由器、防火墙、服务器、端点（例如，台式计算机、膝上型计算机、平板电脑、移动电话、VOIP 或任何其他最终用户设备）。您需要了解和理解的其他网络术语包括端口、协议、以太网、无线上网、IP 地址和 MAC 地址。

本章讨论的两个模型是 OSI 和 TCP/IP。 OSI 模型有七层，TCP/IP 有四层。它们都将 1 和 0 从电缆或 Wi-Fi 连接的物理或网络接口层带到用户与数据交互的应用层。数据以数据包的形式在网络中传输，在层与层传递时相应地添加和删除页眉或页脚。这有助于路由数据并确保数据包不会丢失并保持在一起。 IPv4 正逐渐被 IPv6 淘汰，以提高安全性、提高服务质量并支持更多设备。

如前所述，无线上网已经取代了我们的许多有线网络，而且它的易用性也带来了安全问题。保护 无线上网 非常重要

然后我们了解了网络上的一些攻击，例如 拒绝服务 攻击、碎片攻击、超大数据包攻击、欺骗攻击和中间人攻击。我们还讨论了连接网络的端口和协议以及网络上使用的服务，从连接电线的物理端口（例如 LAN 端口）到连接协议/服务的逻辑端口（例如 80 或 443）。

然后，我们检查了对网络的一些可能威胁，包括欺骗、拒绝服务、病毒、蠕虫、特洛伊木马、中间人攻击（中间人）攻击和旁道攻击。本章继续讨论如何识别威胁，例如使用 IDS/NIDS/HIDS 或 SIEM，以及如何预防威胁，例如使用防病毒、扫描、防火墙或 IPS/NIPS/HIPS。我们讨论了本地数据中心及其要求，例如电源、HVAC、灭火、冗余和 MOU/MOA。我们回顾了云及其特征，包括服务模型：SaaS、IaaS 和 PaaS；和部署模型：公共、私有、社区云和混合。还讨论了 MSP 和 SLA 的重要性。

网络设计的术语，包括网络分段，例如微分段和非军事区 (DMZ)、虚拟局域网 (VLAN)、虚拟专用网 (VPN)、纵深防御、零信任和网络访问控制，都被详细描述细节。
### 术语和定义
应用程序编程接口 (API) - 一组例程、标准、协议和工具，用于构建软件应用程序以访问基于 网络 的软件应用程序或 网络 工具。
位- 开放系统互连 (OSI) 模型的第 1 层数据（零或一）的最基本表示。
广播- 广播传输是一种发送互联网流量的一对多（一对多）形式。
字节- 字节是数字信息的单位，通常由八位组成。
云计算- 一种模型，用于实现对可配置计算资源（例如，网络、服务器、存储、应用程序和服务）共享池的无处不在、方便、按需的网络访问，可以以最少的管理工作快速配置和发布，或服务提供者交互。 NIST 800-145
社区云- 一个系统，其中云基础设施被配置为由具有共同关注（例如，任务、安全要求、政策和合规性考虑）的组织的特定消费者社区云独家使用。它可能由社区云中的一个或多个组织、第三方或它们的某种组合拥有、管理和运营，它可能存在于场所内或场所外。 NIST 800-145
解封装- 封装的相反过程，其中数据包被解包或显示。
拒绝服务 (DoS) - 防止对资源的授权访问或延迟时间关键型操作。 （时间关键可能是几毫秒或几小时，具体取决于所提供的服务。）来源：NIST SP 800-27 Rev A
域名服务 (DNS) - 这个首字母缩写词可以应用于三个相互关联的元素：服务、物理服务器和网络协议。
封装- 在软件开发和操作使用的所有阶段执行数据隐藏和代码隐藏。将数据和方法捆绑在一起就是封装的过程；其相反的过程可以称为拆包、揭示或使用其他术语。也用于指获取任何数据集并将其打包或隐藏在另一个数据结构中，这在网络协议和加密中很常见。
加密- 将消息从明文转换为密文的过程和行为。有时它也被称为加密。这两个术语有时在文学作品中可以互换使用，并且具有相似的含义。
文件传输协议 (FTP) - 用于在主机之间传输文件的 互联网 协议（和程序）。
分片攻击——在分片攻击中，攻击者将流量分片，使系统无法将数据包重新组合在一起。
硬件- 计算机和相关设备的物理部分。
混合云- 公共云存储和私有云存储的组合，其中一些关键数据驻留在企业的私有云中，而其他数据则存储在公共云存储提供商处并可供访问。
基础设施即服务 (IaaS) - 核心计算、存储和网络硬件和软件的提供商，是组织构建和部署应用程序的基础。 IaaS 在数据中心很流行，软件和服务器作为完全外包服务购买，通常根据使用情况和使用的资源量计费。
互联网控制消息协议 (ICMP) - 由 互联网 工程任务组 (IETF) 通过 RFC 792 标准化的 IP 网络协议，用于确定特定服务或主机是否可用。
互联网协议 (IPv4) - 用于在分组交换通信网络和此类网络的互连系统中将数据从源传输到目的地的标准协议。 CNSSI 4009-2015
中间人 - 攻击者将自己定位在用户和系统之间的攻击，以便他可以拦截和更改在它们之间传输的数据。来源：NISTIR 7711
微分段- 零信任策略的一部分，它使用防火墙或类似技术将 LAN 分成非常小的、高度本地化的区域。在极限情况下，这会将防火墙放置在每个连接点。
超大数据包攻击- 故意发送大于预期或大于接收系统可以处理的网络数据包，导致接收系统意外失败。
数据包- 在开放系统互连 (OSI) 模型的第 3 层表示数据。
有效载荷 - 恶意代码攻击的主要动作。
支付卡行业数据安全标准 (PCI DSS) - 由支付卡行业安全标准委员会管理的信息安全标准，适用于处理信用卡或借记卡交易的商家和服务提供商。
平台即服务 (PaaS) - 网络 创作或应用程序开发中间件环境，允许在将应用程序部署为 SaaS 资产之前在云中构建它们。
私有云- 用于描述在 IT 部门控制下在企业防火墙内实施的云计算平台的短语。私有云旨在提供与云系统相同的功能和优势，但消除了对云计算模型的许多反对意见，包括对企业和客户数据的控制、对安全性的担忧以及与法规遵从性相关的问题。
协议- 一组规则（格式和程序），用于实现和控制系统之间某种类型的关联（即通信）。 NIST SP 800-82 修订版 2
公共云——云基础设施是为公众开放使用而提供的。它可能由商业、学术或政府组织或它们的某种组合拥有、管理和运营。它存在于云提供商的场所。 NIST SP 800-145
简单邮件传输协议 (SMTP) - 用于在发件人和收件人之间发送和接收电子邮件的标准通信协议。
软件- 可以在执行期间动态写入或修改的计算机程序和相关数据。 NIST SP 80-37 修订版 2
软件即服务 (SaaS) - 云客户使用在云基础架构中运行的云提供商的应用程序。这些应用程序可通过诸如网络浏览器之类的瘦客户端界面或程序界面从各种客户端设备访问。消费者不管理或控制底层云基础设施，包括网络、服务器、操作系统、存储，甚至单个应用程序功能，但有限的用户特定应用程序配置设置可能除外。源自 NIST 800-145
欺骗- 伪造传输的发送地址以非法进入安全系统。 CNSSI 4009-2015 
传输控制协议/互联网协议 (TCP/IP) 模型- 由 IETF 创建的互联网协议模型，它指定了四层功能：链路层（物理通信）、互联网层（网络到网络通信）、传输层（基本主机之间连接和无连接数据交换的通道）和应用层，其他协议和用户应用程序在此使用网络服务。
虚拟局域网 (VLAN) - 工作站、服务器和网络设备的逻辑组，尽管它们的地理分布似乎在同一个 LAN 上。
VPN - 建立在现有网络之上的虚拟专用网络 (VPN)，可为网络之间的传输提供安全的通信机制。
无线局域网 (WLAN) - 一组位于同一附近的计算机和设备，形成基于无线电传输而非有线连接的网络。 无线上网网络是 WLAN 的一种。
Zenmap - 安全扫描工具 的图形用户界面 (GUI)，这是一个开源应用程序，可扫描网络以确定连接的所有内容以及其他信息。
零信任- 消除网络具有任何可信空间的设计信念。安全性在每个可能的级别进行管理，代表最细粒度的资产。工作负载的微分段是该模型的一个工具。
